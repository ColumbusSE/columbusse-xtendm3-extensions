{"programModules":{"EXT100MI":{"program":"EXT100MI","triggers":{},"transactions":{"UpdFinAgr":{"sourceUuid":"9f727a3b-b0ca-4afe-bbe3-c7399371d0ed","name":"UpdFinAgr","program":"EXT100MI","description":"set Status 40 or 90 for financial Aggreement in FFAMAS","active":true,"multi":false,"modified":1731657581224,"modifiedBy":"FZAHLTEN","outputFields":[],"inputFields":[{"name":"DIVI","description":"division","length":3,"mandatory":true,"type":"A"},{"name":"SPYN","description":"payee","length":10,"mandatory":true,"type":"A"},{"name":"FAGN","description":"financial agreement ID","length":10,"mandatory":true,"type":"A"},{"name":"FAHS","description":"financial agreement status","length":2,"mandatory":true,"type":"A"}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"9f727a3b-b0ca-4afe-bbe3-c7399371d0ed":{"uuid":"9f727a3b-b0ca-4afe-bbe3-c7399371d0ed","updated":1731660726266,"updatedBy":"FZAHLTEN","created":1730203169912,"createdBy":"FZAHLTEN","apiVersion":"0.9","beVersion":"16.0.0.20240916174523.6","language":"GROOVY","codeHash":"248B622B178A3288F5C9C8C34618C057C7A16056D52DB2CAA8B0788DB8839E17","code":"LyoqIE5hbWU6IEVYVDEwME1JLlVwZEZpbkFnci5ncm9vdnkNCiAqDQogKiBUaGUgQVBJIHRyYW5zYWN0aW9uIEVYVDEwME1JLlVwZEZpbkFnciBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgc3RhdHVzDQogKiBvZiBhbiBleGlzdGluZyByZWNvcmQgaW4gREIgdGFibGUgRkZBTUFTIChBR1MxMDApIHRvIDQwIG9yIDkwLg0KICogDQogKg0KICogIGF1dGhvciAgICBGcmFuayBaYWhsdGVuIChmcmFuay56YWhsdGVuQGNvbHVtYnVzZ2xvYmFsLmNvbSkNCiAqICBkYXRlICAgICAgMjAyNC0xMC0yOQ0KICogIHZlcnNpb24gICAxLjANCiAqDQogKiAgMS4wICAyMDI0LTEwLTI5ICAgRnJhbmsgWmFobHRlbiAgICAgaW5pdGlhbCBjcmVhdGlvbg0KICovDQoNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTsNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOw0KaW1wb3J0IGphdmEudGV4dC5EZWNpbWFsRm9ybWF0Ow0KaW1wb3J0IE0zLkRCQ29udGFpbmVyOw0KDQpwdWJsaWMgY2xhc3MgVXBkRmluQWdyIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQoJcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCglwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KCXByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQoJcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQoJcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOw0KDQoJcHJpdmF0ZSBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXQxID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpOw0KCXByaXZhdGUgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0MiA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIik7DQoJDQoJcHJpdmF0ZSBTdHJpbmcgaUNvbm8gPSAiIjsNCglwcml2YXRlIGludCBpbnRDb25vID0gMDsNCglwcml2YXRlIFN0cmluZyBpRGl2aSA9ICIiOw0KCXByaXZhdGUgU3RyaW5nIGlTcHluID0gIiI7DQoJcHJpdmF0ZSBTdHJpbmcgaUZhZ24gPSAiIjsNCglwcml2YXRlIFN0cmluZyBpRmFocyA9ICIiOw0KCXByaXZhdGUgaW50IGlJbnRGYWhzID0gMDsNCgkNCglwcml2YXRlIGludCB0b2RheXNEYXRlID0gMDsNCg0KCXB1YmxpYyBVcGRGaW5BZ3IoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBNSUNhbGxlckFQSSBtaUNhbGxlciwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBMb2dnZXJBUEkgbG9nZ2VyKSB7DQoJCXRoaXMubWkgPSBtaTsNCgkJdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KCQl0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXI7DQoJCXRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQoJCXRoaXMubG9nZ2VyID0gbG9nZ2VyOw0KCX0NCg0KCXB1YmxpYyB2b2lkIG1haW4oKSB7DQoJCWdldElucHV0VmFyaWFibGVzKCk7DQoJCWlmICghdmFsaWRhdGVJbnB1dCgpKSB7DQoJCQlsb2dnZXIuZGVidWcoIkVYVDEwME1JL1VwZEZpbkFnciB2YWxpZGF0ZUlucHV0IGVuZGVkIHdpdGggZmFsc2UhIik7DQoJCQltaS53cml0ZSgpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCXVwZGF0ZURiUmVjb3JkKCk7DQoJfQ0KDQoJLyoqDQoJICogIGdldElucHV0VmFyaWFibGVzDQoJICoNCgkgKiAgc2V0IHZhbHVlcyB0byB0aGUgcmVxdWlyZWQgdmFyaWFibGVzIGNvbmZpZ3VyZWQgZm9yIHRoZSBtZXRob2QgdXNpbmcgTUlBUEkNCgkgKi8NCglwcml2YXRlIHZvaWQgZ2V0SW5wdXRWYXJpYWJsZXMoKSB7DQoJCWludENvbm8gPSBwcm9ncmFtLkxEQVpELmdldCgiQ09OTyIpOw0KCQlpQ29ubyA9ICBwcm9ncmFtLkxEQVpELmdldCgiQ09OTyIpOw0KCQlpRGl2aSA9IG1pLmluRGF0YS5nZXQoIkRJVkkiKTsNCgkJaVNweW4gPSBtaS5pbkRhdGEuZ2V0KCJTUFlOIik7DQoJCWlGYWduID0gbWkuaW5EYXRhLmdldCgiRkFHTiIpOw0KCQlpRmFocyA9IG1pLmluRGF0YS5nZXQoIkZBSFMiKTsNCg0KCQlsb2dnZXIuZGVidWcoIkVYVDEwME1JL1VwZEZpbkFnciBpbnB1dCBmaWVsZCBpbnRDb25vIDogIiArIGludENvbm8pOw0KCQlsb2dnZXIuZGVidWcoIkVYVDEwME1JL1VwZEZpbkFnciBpbnB1dCBmaWVsZCBESVZJOiAiICsgIGlEaXZpKTsNCgkJbG9nZ2VyLmRlYnVnKCJFWFQxMDBNSS9VcGRGaW5BZ3IgaW5wdXQgZmllbGQgU1BZTjogIiArIGlTcHluKTsNCgkJbG9nZ2VyLmRlYnVnKCJFWFQxMDBNSS9VcGRGaW5BZ3IgaW5wdXQgZmllbGQgRkFHTjogIiArIGlGYWduKTsNCgkJbG9nZ2VyLmRlYnVnKCJFWFQxMDBNSS9VcGRGaW5BZ3IgaW5wdXQgZmllbGQgRkFIUzogIiArIGlGYWhzKTsNCgl9DQoNCg0KCS8qKg0KCSAqICB2YWxpZGF0ZUlucHV0DQoJICoNCgkgKiAgQ2hlY2sgaWYgZmllbGRzIGFyZSBudWxsLCBlbXB0eSwgb3Igd2hpdGVzcGFjZSAodXNpbmcgdHJpbSk7IGlmIHNvLCBsb2cgYW4gZXJyb3IgYW5kIHJldHVybiBmYWxzZS4NCgkgKi8NCglwcml2YXRlIGJvb2xlYW4gdmFsaWRhdGVJbnB1dCgpIHsNCgkJbG9nZ2VyLmRlYnVnKCJFWFQxMDBNSS9VcGRGaW5BZ3IgdmFsaWRhdGVJbnB1dCBzdGFydGVkIik7DQoJCWlmICghaURpdmk/LnRyaW0oKSkgew0KCQkJaURpdmkgPSAiICAgIjsNCgkJfQ0KCQlpZiAoIWlTcHluPy50cmltKCkpIHsNCgkJCW1pLmVycm9yKCJaYWhsZXIgIiArIGlTcHluICsgIiBpc3QgbmljaHQgenVsw6Rzc2lnIik7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgkJaWYgKCFpRmFnbj8udHJpbSgpKSB7DQoJCQltaS5lcnJvcigiQWdyZWVtZW50LU5yLiAiICsgaUZhZ24gKyAiIGlzdCBuaWNodCB6dWzDpHNzaWciKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlpZiAoIWlGYWhzPy50cmltKCkpIHsNCgkJCW1pLmVycm9yKCJuZXVlciBBZ3JlZW1lbnRzdGF0dXMgIiArIGlGYWhzICsgIiBpc3QgbmljaHQgenVsw6Rzc2lnIik7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgkJaWYgKGlGYWhzLnRyaW0oKS5jb250ZW50RXF1YWxzKCI0MCIpDQoJCXx8ICBpRmFocy50cmltKCkuY29udGVudEVxdWFscygiOTAiKSkgew0KCQkJaUludEZhaHMgPSBJbnRlZ2VyLnBhcnNlSW50KGlGYWhzKTsNCgkJfSBlbHNlIHsNCgkJCW1pLmVycm9yKCJudXIgU3RhdHVzYW5nYWJlIDQwIG9kZXIgOTAgc2luZCB6dWzDpHNzaWciKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQkNCgkJTG9jYWxEYXRlVGltZSBub3cgPSBMb2NhbERhdGVUaW1lLm5vdygpOw0KCQlTdHJpbmcgZm9ybWF0RGF0ZSA9IG5vdy5mb3JtYXQoZm9ybWF0MSk7DQoJCVN0cmluZyBmb3JtYXRUaW1lID0gbm93LmZvcm1hdChmb3JtYXQyKTsNCgkJdG9kYXlzRGF0ZSA9IEludGVnZXIucGFyc2VJbnQoZm9ybWF0RGF0ZSk7DQoNCgkJREJBY3Rpb24gYWN0aW9uID0gZGF0YWJhc2UudGFibGUoIkZGQU1BUyIpDQoJCQkJLnNlbGVjdGlvbigiRk1GQUVEIiwgIkZNRkFIUyIpDQoJCQkJLmluZGV4KCIwMCIpDQoJCQkJLmJ1aWxkKCk7DQoJCURCQ29udGFpbmVyIGNvbnRhaW5lciA9IGFjdGlvbi5jcmVhdGVDb250YWluZXIoKTsNCgkJY29udGFpbmVyLnNldCgiRk1DT05PIiwgaW50Q29ubyk7DQoJCWNvbnRhaW5lci5zZXQoIkZNRElWSSIsIGlEaXZpKTsNCgkJY29udGFpbmVyLnNldCgiRk1TUFlOIiwgaVNweW4pOw0KCQljb250YWluZXIuc2V0KCJGTUZBR04iLCBpRmFnbik7DQoJCWlmICghYWN0aW9uLnJlYWQoY29udGFpbmVyKSkgew0KCQkJbWkuZXJyb3IoIkFHUzEwMCByZWNvcmQgaXNuJ3QgZXhpc3RpbmcgRElWSS9TUFlOL0ZBR04iDQoJCQkJICsgIiAiICsgaURpdmkNCgkJCQkgKyAiICIgKyBpU3B5bg0KCQkJCSArICIgIiArIGlGYWduKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQkNCgkJaW50IGludEZhZWQgPSBjb250YWluZXIuZ2V0KCJGTUZBRUQiKTsNCgkJaW50IGludEZhaHMgPSBjb250YWluZXIuZ2V0KCJGTUZBSFMiKTsNCgkNCgkJaWYgKGludEZhaHMgPj0gIDkwKSB7DQoJCQltaS5lcnJvcigiRGVyIEZpbmFuenZlcnRyYWcgaGF0IGJlcmVpdHMgU3RhdHVzIGdsZWljaCBvZGVyIGdyw7bDn2VyIDkwLiBCaXR0ZSBBbnNpY2h0IGFrdHVhbGlzaWVyZW4uIik7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgkJaWYgKGludEZhaHMgPj0gIDQwDQoJCSYmICBpSW50RmFocyA9PSA0MCkgew0KCQkJbWkuZXJyb3IoIkRlciBGaW5hbnp2ZXJ0cmFnIGhhdCBiZXJlaXRzIFN0YXR1cyBnbGVpY2ggb2RlciBncsO2w59lciA0MC4gQml0dGUgQW5zaWNodCBha3R1YWxpc2llcmVuLiIpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoNCgkJcmV0dXJuIHRydWU7DQoJfQ0KDQoJLyoqDQoJICogVXBkYXRlRGJSZWNvcmQNCgkgKg0KCSAqIFJlYWQgYW5kIGxvY2sgdGhlIEZGQU1BUyByZWNvcmQgYW5kIHVwZGF0ZWQgdGhlIHN0YXR1cyBmaWVsZCBGTUZBSFMNCgkgKi8NCglwcml2YXRlIHZvaWQgdXBkYXRlRGJSZWNvcmQoKXsNCgkJbG9nZ2VyLmRlYnVnKCJFWFQxMDBNSS9VcGRGaW5BZ3IgdXBkYXRlRGJSZWNvcmQgc3RhcnRlZCIpOw0KCQlEQkFjdGlvbiBhY3Rpb24gPSBkYXRhYmFzZQ0KCQkJCS50YWJsZSgiRkZBTUFTIikNCgkJCQkuaW5kZXgoIjAwIikNCgkJCQkuc2VsZWN0aW9uKCJGTUNITk8iKQ0KCQkJCS5idWlsZCgpOw0KCQlEQkNvbnRhaW5lciBjb250YWluZXIgPSBhY3Rpb24uY3JlYXRlQ29udGFpbmVyKCk7DQoJCWNvbnRhaW5lci5zZXQoIkZNQ09OTyIsIGludENvbm8pOw0KCQljb250YWluZXIuc2V0KCJGTURJVkkiLCBpRGl2aSk7DQoJCWNvbnRhaW5lci5zZXQoIkZNU1BZTiIsIGlTcHluKTsNCgkJY29udGFpbmVyLnNldCgiRk1GQUdOIiwgaUZhZ24pOw0KDQoJCWFjdGlvbi5yZWFkTG9jayhjb250YWluZXIsIHsgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPg0KCQkJaW50IGludENobm8gPSBsb2NrZWRSZXN1bHQuZ2V0KCJGTUNITk8iKTsNCgkJCWludENobm8rKzsNCgkJCWxvY2tlZFJlc3VsdC5zZXQoIkZNRkFIUyIsIGlJbnRGYWhzKTsNCgkJCWxvY2tlZFJlc3VsdC5zZXQoIkZNTE1EVCIsIHRvZGF5c0RhdGUpOw0KCQkJbG9ja2VkUmVzdWx0LnNldCgiRk1DSE5PIiwgaW50Q2hubyk7DQoJCQlsb2NrZWRSZXN1bHQuc2V0KCJGTUNISUQiLCBwcm9ncmFtLmdldFVzZXIoKSk7DQoJCQlsb2NrZWRSZXN1bHQudXBkYXRlKCk7DQoJCX0pOw0KCX0NCn0="}}}